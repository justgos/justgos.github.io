(this["webpackJsonpjustgos.github.io"]=this["webpackJsonpjustgos.github.io"]||[]).push([[0],{39:function(e,t,a){e.exports=a(56)},44:function(e,t,a){},48:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),i=a.n(o),l=(a(44),a(13)),s=a.n(l),c=a(18),u=a(4),d=a(1),m=a(7),v=a(29),f=a.n(v),p=(a(48),window.devicePixelRatio||1),g=a(19),x=Object(g.b)({swarmTargets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return e[t.payload.target]=t.payload.data,e;case"REMOVE":return delete e[t.payload.target],e;default:return e}}}),h=Object(g.c)(x);function y(e){return new Promise((function(t){return setTimeout(t,e)}))}var w={inProgress:[{id:"excog",name:"Extended Knowledge",desc:r.a.createElement("div",null,"A tool for thinking on scales larger/longer than mindmaps usually allow for.",r.a.createElement("br",null),"Augmented with ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Extended_cognition",target:"_blank",rel:"noopener noreferrer"},"Wikipedia")," data"),tech:["React","Canvas rendering","socket.io","Node.js","Mongo","Neo4j","ElasticSearch"],links:[{label:"website",url:"https://extendedcognition.org/"},{label:"my graph",url:"https://extendedcognition.org/graph/justgos"}],video:"/video/ex-k.mp4",previewType:"generative-excog",previewSize:[400,400]},{id:"thingness",name:"Thingness",desc:r.a.createElement("div",null,"Evolutionary exploration of cell-level morphogenesis in 2D"),tech:["Python"],links:[{label:"github",url:"https://github.com/justgos/thingness"}],video:"/video/thingness.mp4",previewType:"generative-thomas",previewSize:[400,400]},{id:"eso",name:"EcoSystemOne",desc:r.a.createElement("div",null,"A platform where you learn by teaching others \u2014 by telling stories together, in\xa0VR"),tech:["Unity (Photon, SteamVR)","Node.js","Mongo","ElasticSearch","Python","AWS","Docker Swarm"],links:[{label:"website",url:"https://ecosystemone.com/"}],video:"/video/act.mp4",previewType:"content",previewSize:[400,400],previewScale:7}],archive:[{id:"body-evo",name:"Mind-body evolution",desc:r.a.createElement("div",null,"Agents can evolve new limbs, which add new sensory and motor neurons.",r.a.createElement("br",null),"Mind is a Spiking Neural Network, implemented in ",r.a.createElement("a",{href:"https://brian2.readthedocs.io/en/stable/",target:"_blank",rel:"noopener noreferrer"},"brian2")," and using ",r.a.createElement("a",{href:"http://www.izhikevich.org/publications/spikes.htm",target:"_blank",rel:"noopener noreferrer"},"Izhikevich")," cells dynamics."),tech:["Python (Brian2)","Unity","ZeroMQ"],image:"/textures/body-evo-mind-structure.jpg",previewType:"generative-van-der-pol",previewSize:[400,400]},{id:"brave-gen",name:"Artificial worlds",desc:r.a.createElement("div",null,"Terrain generation and object placement are inspired by ",r.a.createElement("a",{href:"https://www.youtube.com/watch?v=SePDzis8HqY",target:"_blank",rel:"noopener noreferrer"},"No Man's Sky"),".",r.a.createElement("br",null),"Air dynamics are a voxel-based simulation, based on ",r.a.createElement("a",{href:"http://developer.download.nvidia.com/books/HTML/gpugems/gpugems_ch38.html",target:"_blank",rel:"noopener noreferrer"},"GPU Gems")," article."),tech:["Unity","Python"],links:[{label:"github",url:"https://github.com/justgos/brave-gen"}],video:"/video/brave-gen.mp4",previewType:"generative-van-der-pol",previewSize:[400,400]},{id:"l2mapper",name:"Map viewer for Lineage II",desc:r.a.createElement("div",null,"In a time of being somewhat obsessed with the game, spent a few weeks dawn till dusk trying to find ways to read an altered Unreal Engine data format and understanding how it's meant to be visualized."),tech:["C++","OpenGL"],links:[{label:"github",url:"https://github.com/justgos/l2mapper"}],image:"/textures/l2mapper.jpg",previewType:"content",previewSize:[500,379],previewScale:8}]};function T(e){var t=e.children,a=Object(m.f)(),o=a.size,i=o.width,l=o.height,s=a.camera,c=Object(n.useMemo)((function(){return[{value:0},{value:performance.now()},{value:performance.now()}]}),[]),v=Object(u.a)(c,3),f=v[0],g=v[1],x=v[2],h=Object(n.useRef)(),y=Object(n.useRef)(),w=Object(n.useState)("logo"),T=Object(u.a)(w,2);T[0],T[1];return Object(m.e)((function(){var e=performance.now();g.value;g.value=e,f.value++,e>x.value+1e3&&(x.value=e,f.value=0);var t=document.scrollingElement.scrollTop;s.position.x=i/2,s.position.y=-l/2,y.current.position.y=-t,h.current.position.y=Math.round(t*p)/p})),r.a.createElement("scene",{ref:h},r.a.createElement("ambientLight",{intensity:.5}),r.a.createElement("directionalLight",{intensity:.6,position:[0,0,1e3],rotation:new d.Euler(0,0,0),castShadow:!0,ref:y}),t)}var b=a(5),E=a(15),z=function(){function e(){Object(b.a)(this,e)}return Object(E.a)(e,null,[{key:"getDummyCanvas",value:function(){return e.dummyCanvas||(e.dummyCanvas=document.createElement("canvas"),e.dummyCanvas.width=e.dummyCanvas.height=1),e.dummyCanvas}},{key:"AwaitImageLoad",value:function(e,t){return new Promise((function(t,a){var n=new Image;n.onload=function(){return t(n)},n.onerror=a,n.src=e}))}},{key:"renderImage",value:function(){var t=Object(c.a)(s.a.mark((function t(a,n){var r,o,i,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.AwaitImageLoad(a,n);case 2:return r=t.sent,(o=document.createElement("canvas")).className="html-render-container",document.body.appendChild(o),o.width=n[0]*p,o.height=n[1]*p,(i=o.getContext("2d")).scale(p,p),i.clearRect(0,0,o.width,o.height),i.drawImage(r,0,0,n[0],n[1]),l=i.getImageData(0,0,o.width,o.height).data,document.body.removeChild(o),t.abrupt("return",l);case 15:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}]),e}();var S=a(20),O=function(e,t,a){this.variables=[],this.currentTextureIndex=0;var n=new d.Scene,r=new d.Camera;r.position.z=1;var o={passThruTexture:{value:null}},i=c("uniform sampler2D passThruTexture;\n\nvoid main() {\n\n\tvec2 uv = gl_FragCoord.xy / resolution.xy;\n\n\tgl_FragColor = texture2D( passThruTexture, uv );\n\n}\n",o),l=new d.Mesh(new d.PlaneBufferGeometry(2,2),i);function s(a){a.defines.resolution="vec2( "+e.toFixed(1)+", "+t.toFixed(1)+" )"}function c(e,t){t=t||{};var a=new d.ShaderMaterial({uniforms:t,vertexShader:"void main()\t{\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n",fragmentShader:e});return s(a),a}n.add(l),this.addVariable=function(e,t,a){var n={name:e,initialValueTexture:a,material:this.createShaderMaterial(t),dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:d.NearestFilter,magFilter:d.NearestFilter};return this.variables.push(n),n},this.setVariableDependencies=function(e,t){e.dependencies=t},this.init=function(){if(!a.extensions.get("OES_texture_float")&&!a.capabilities.isWebGL2)return"No OES_texture_float support for float textures.";if(0===a.capabilities.maxVertexTextures)return"No support for vertex shader textures.";for(var n=0;n<this.variables.length;n++){var r=this.variables[n];r.renderTargets[0]=this.createRenderTarget(e,t,r.wrapS,r.wrapT,r.minFilter,r.magFilter),r.renderTargets[1]=this.createRenderTarget(e,t,r.wrapS,r.wrapT,r.minFilter,r.magFilter),this.renderTexture(r.initialValueTexture,r.renderTargets[0]),this.renderTexture(r.initialValueTexture,r.renderTargets[1]);var o=r.material,i=o.uniforms;if(null!==r.dependencies)for(var l=0;l<r.dependencies.length;l++){var s=r.dependencies[l];if(s.name!==r.name){for(var c=!1,u=0;u<this.variables.length;u++)if(s.name===this.variables[u].name){c=!0;break}if(!c)return"Variable dependency not found. Variable="+r.name+", dependency="+s.name}i[s.name]={value:null},o.fragmentShader="\nuniform sampler2D "+s.name+";\n"+o.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){for(var e=this.currentTextureIndex,t=0===this.currentTextureIndex?1:0,a=0,n=this.variables.length;a<n;a++){var r=this.variables[a];if(null!==r.dependencies)for(var o=r.material.uniforms,i=0,l=r.dependencies.length;i<l;i++){var s=r.dependencies[i];o[s.name].value=s.renderTargets[e].texture}this.doRenderTarget(r.material,r.renderTargets[t])}this.currentTextureIndex=t},this.getCurrentRenderTarget=function(e){return e.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(e){return e.renderTargets[0===this.currentTextureIndex?1:0]},this.addResolutionDefine=s,this.createShaderMaterial=c,this.createRenderTarget=function(a,n,r,o,i,l){return a=a||e,n=n||t,r=r||d.ClampToEdgeWrapping,o=o||d.ClampToEdgeWrapping,i=i||d.NearestFilter,l=l||d.NearestFilter,new d.WebGLRenderTarget(a,n,{wrapS:r,wrapT:o,minFilter:i,magFilter:l,format:d.RGBAFormat,type:d.FloatType,stencilBuffer:!1,depthBuffer:!1})},this.createTexture=function(){var a=new Float32Array(e*t*4);return new d.DataTexture(a,e,t,d.RGBAFormat,d.FloatType)},this.renderTexture=function(e,t){o.passThruTexture.value=e,this.doRenderTarget(i,t),o.passThruTexture.value=null},this.doRenderTarget=function(e,t){var o=a.getRenderTarget();l.material=e,a.setRenderTarget(t),a.render(n,r),l.material=i,a.setRenderTarget(o)}},j=a(11),C=a(9),k=a(10),D=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(j.a)(this,Object(C.a)(t).call(this,{vertexShader:"\n        attribute vec2 reference;\n        varying vec4 vColor;\n        uniform float time;\n        uniform sampler2D positionTex;\n        uniform sampler2D colorTex;\n        uniform float pointScale;\n        uniform vec2 posOffset;\n        uniform int targetType;\n\n        vec2 unpack2HalfToRGBA(vec4 v) {\n          return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n        }\n\n        void main() {\n            // vColor.xyz = color;\n            // vColor.w = alpha;\n            vColor = texture2D(colorTex, reference);\n            // vColor = vec4(0.0, 0.0, 0.0, 1.0);\n\n            if(targetType == 2) {\n              vColor.w = pow(abs(sin(time * 0.5 + reference.x * 10.0)), 2.0);\n            }\n\n            vec4 pos = texture2D(positionTex, reference);\n            pos.xy += posOffset;\n            pos.z = 0.0;\n            // vec2 pos1 = unpack2HalfToRGBA(texture2D(positionTex, reference.xy));\n            // vec2 pos2 = unpack2HalfToRGBA(texture2D(positionTex, reference.zw));\n            // vec4 pos = vec4(pos1.x, pos1.y, pos2.x, 1.0);\n            vec4 mvPosition = modelViewMatrix * vec4( pos.xyz, 1.0 );\n            gl_PointSize = pointScale;  //  * abs(texture2D(posTexture, vec2(position.x / 1000.0, 0.0)).x)\n            gl_Position = projectionMatrix * mvPosition;\n        }\n      ",fragmentShader:"\n        uniform sampler2D pointTexture;\n        varying vec4 vColor;\n        void main() {\n          // gl_FragColor = vec4( vColor, 1.0 );\n          gl_FragColor = vColor;\n          // gl_FragColor = vec4(1.0, 1.0, 1.0, vColor.w) * texture2D(pointTexture, gl_PointCoord);\n          gl_FragColor.w *= 0.4;\n        }\n      ",blending:d.AdditiveBlending,depthTest:!1,transparent:!0,vertexColors:!0}))).uniforms={time:{value:e.time},targetType:{value:e.targetType},positionTex:{value:e.positionTex},colorTex:{value:e.colorTex},pointTexture:{value:e.pointTexture},pointScale:{value:e.pointScale},posOffset:{value:e.posOffset}},a}return Object(k.a)(t,e),t}(d.ShaderMaterial),F="\n  //\tSimplex 3D Noise \n  //\tby Ian McEwan, Ashima Arts\n  //\n  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\n  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\n  float snoise(vec3 v){ \n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n    // First corner\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n    // Other corners\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n\n    //  x0 = x0 - 0. + 0.0 * C \n    vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n    vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n    vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n    // Permutations\n    i = mod(i, 289.0 ); \n    vec4 p = permute( permute( permute( \n              i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n            + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n            + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n    // Gradients\n    // ( N*N points uniformly over a square, mapped onto an octahedron.)\n    float n_ = 1.0/7.0; // N=7\n    vec3  ns = n_ * D.wyz - D.xzx;\n\n    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n\n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n\n    //Normalise gradients\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n\n    // Mix final noise value\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n                                  dot(p2,x2), dot(p3,x3) ) );\n  }\n",N="\n  // precision highp float;\n  uniform float time;\n  uniform float delta;\n  uniform int targetType;\n\n  ".concat(F,"\n\n  float odeO3(float x, float y, float z, \n              float a1, float a2, float a3, float a4, float a5, \n              float a6, float a7, float a8, float a9, float a10, \n              float a11, float a12, float a13, float a14, float a15, \n              float a16, float a17, float a18, float a19, float a20) {\n    return a1*0.0 + a2*x + a3*x*x + a4*x*x*x + a5*x*x*y           + a6*x*x*z + a7*x*y + a8*x*y*y + a9*x*y*z + a10*x*z           + a11*x*z*z + a12*y + a13*y*y + a14*y*y*y + a15*y*y*z           + a16*y*z + a17*y*z*z + a18*z + a19*z*z + a20*z*z*z;\n  }\n\n  #define odeO3Full(x, y, z,                     a1, a2, a3, a4, a5, a6, a7, a8, a9, a10,                      a11, a12, a13, a14, a15, a16, a17, a18, a19, a20,                      a21, a22, a23, a24, a25, a26, a27, a28, a29, a30,                      a31, a32, a33, a34, a35, a36, a37, a38, a39, a40,                      a41, a42, a43, a44, a45, a46, a47, a48, a49, a50,                      a51, a52, a53, a54, a55, a56, a57, a58, a59, a60) vec3(     odeO3(x, y, z, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10,            a11, a12, a13, a14, a15, a16, a17, a18, a19, a20),     odeO3(x, y, z, a21, a22, a23, a24, a25, a26, a27, a28, a29, a30,            a31, a32, a33, a34, a35, a36, a37, a38, a39, a40),     odeO3(x, y, z, a41, a42, a43, a44, a45, a46, a47, a48, a49, a50,            a51, a52, a53, a54, a55, a56, a57, a58, a59, a60)   )\n\n  #define rescale(scale)     scaleFactor = scale;     rescaled = (target - offset) * scaleFactor;     float x = rescaled.x;     float y = rescaled.y;     float z = rescaled.z;\n\n  void main()\t{\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    vec3 target = texture2D(targetPositionTex, uv).xyz;\n    // target.x += delta * 10.0;\n\n    float speed = 5.0;\n    float scaleFactor = 10.0;\n    vec3 offset = vec3(0.0, 0.0, 0.0);\n    vec3 rescaled = (target - offset) * scaleFactor;\n    float localTime = time + gl_FragCoord.x * 10.0 + gl_FragCoord.y * 25.0;\n\n    vec3 dtdt;\n\n    // // Sprott's D=3 O=3 flows\n    // dtdt = odeO3Full(rescaled.x, rescaled.y, rescaled.z,\n    //                   0.5, 0.0, -0.6, 0.2, -0.1, 0.2, -0.6, 0.8, -0.6, -0.4, -0.2, -0.2, -1.2, 0.4, 0.8, 0.1, 1.2, 1.2, 1.0, 0.3, 0.1, 0.4, 0.2, 0.3, 0.9, -0.4, 1.1, -0.1, -1.0, 0.2, 0.1, -1.2, 1.2, -0.6, -0.3, -0.4, 0.5, 0.2, 0.3, -0.7, 0.4, -1.1, -0.7, 0.0, 0.2, 0.5, -0.8, 0.4, -0.3, 0.2, 0.2, 0.8, -1.1, 1.1, -0.9, -0.4, 0.9, 0.2, -0.1, 1.2);\n\n    if(targetType == 1) {\n      // Thomas' cyclically symmetric attractor\n      float b = 0.208186;\n      dtdt.x = sin(rescaled.y) - b * rescaled.x;\n      dtdt.y = sin(rescaled.z) - b * rescaled.y;\n      dtdt.z = sin(rescaled.x) - b * rescaled.z;\n    } else if(targetType == 2) {\n      // Sprott's simplest chaotic flow, Case A\n      speed = 4.0;\n      rescale(1.0 / 120.0);\n      dtdt.x = rescaled.y;\n      dtdt.y = -rescaled.x + rescaled.y * rescaled.z;\n      dtdt.z = 1.0 - rescaled.y * rescaled.y;\n\n      // speed = 4.0;\n      // rescale(1.0 / 80.0);\n      // dtdt.x = y;\n      // dtdt.y = y*z - x;\n      // dtdt.z = 1.0 - y*y;\n    } else if(targetType == 3) {\n      // van der Pol oscillator\n      speed = 1.0;\n      rescale(4.0);\n      float A = 0.9;\n      float omega = 0.5;\n      float v = rescaled.y;\n      float dv = A * sin(omega * localTime) - (x*x - 1.0) * v - x;\n      dtdt.x = v;\n      dtdt.y = dv;\n    } else if(targetType == 4) {\n      // Custom - excog\n\n      // float maxInteractionDist = 0.01;\n      // for(float i=0.0; i<resolution.x; i++) {\n      //   for(float j=0.0; j<resolution.y; j++) {\n      //     vec3 otherTarget = texture2D(targetPositionTex, vec2(i, j) / resolution.xy).xyz;\n      //     if(abs(otherTarget.x - target.x) > maxInteractionDist\n      //       || abs(otherTarget.y - target.y) > maxInteractionDist)\n      //       continue;\n      //     dtdt.x -= otherTarget.x - target.x;\n      //     dtdt.y -= otherTarget.y - target.y;\n      //   }\n      // }\n\n      speed = 8.0;\n      rescale(5.0);\n      float rPhase = pow(abs(sin(time * 0.2 + gl_FragCoord.y / resolution.y * 0.2)), 2.0);\n      float r = 5.0 * rPhase + 0.1;\n      // gl_FragCoord.x / resolution.x * 2.0 * 3.14159\n      float a = atan(y, x) + 0.5 * pow(1.0 - rPhase, 2.0) * time * (gl_FragCoord.x / resolution.x + 0.01);\n\n      float noiseScale = 2.0;\n      vec3 noiseSource = vec3(x, y, z) * 1.0 + time * 0.2;\n      // vec3 noiseSource = vec3(1.0, 1.0, 1.0) * 1.0 + time * 0.2;\n      vec3 noiseV = vec3(\n        snoise(noiseSource + vec3(527.234, 65.34, 982.873)),\n        snoise(noiseSource + vec3(42.45, 22.644, 863.386)),\n        0\n      );\n      noiseV = vec3(\n        snoise(noiseSource + 0.5 * noiseV + vec3(35.642, 64.266, 3.656)),\n        snoise(noiseSource + 0.5 * noiseV + vec3(763.135, 7.2367, 62.8465)),\n        0\n      );\n      r += noiseV.x * 1.1;\n      // noiseV *= noiseScale;\n      noiseV *= 0.0;\n\n      dtdt.x += r * cos(a) - x + noiseV.x;\n      dtdt.y += r * sin(a) - y + noiseV.y;\n    }\n\n    vec3 newTarget = (rescaled + dtdt * delta * speed) / scaleFactor + offset;\n    \n    // Prevent pixel loss from chaotic blowups\n    if(abs(newTarget.x) > 10000.0 || abs(newTarget.y) > 10000.0 || abs(newTarget.z) > 10000.0)\n      newTarget = vec3(0.0, 0.0, 0.0);\n\n    gl_FragColor = vec4(newTarget, 1.0);\n}\n"),M="\n  // precision highp float;\n  uniform float time;\n  uniform float delta;\n  uniform vec2 targetScale;\n  uniform float velocityNoiseScale;\n  // uniform vec2 targetPositionOffset;\n  uniform vec2 dTargetOffset;\n\n  ".concat(F,"\n\n  void main()\t{\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    vec3 pos = texture2D(positionTex, uv).xyz;\n    pos.xy -= dTargetOffset;\n    vec3 target = texture2D(targetPositionTex, uv).xyz;\n    target.xy *= targetScale;\n    // target.xy += targetPositionOffset - dTargetOffset;\n    vec3 v = texture2D(velocityTex, uv).xyz;\n\n    vec3 goTargetV = 2.0 * (target-pos);\n\n    float noiseScale = 20.0 * (1.0 + 2.0 * pow(length(goTargetV), 0.5));\n    vec3 noiseSource = vec3(1.0, 1.0, 1.0) + pos * 1.0 + time * 1.0;\n    // noiseSource.x += uv.x * 1475.754;\n    // noiseSource.y += uv.y * 286.46247;\n    vec3 noiseV = vec3(\n      snoise(noiseSource + vec3(43.521, 65.254, 982.143)),\n      snoise(noiseSource + vec3(654.45, 22.644, 863.345)),\n      0\n    );\n    noiseV = vec3(\n      snoise(noiseSource + 0.5 * noiseV + vec3(35.642, 64.266, 3.656)),\n      snoise(noiseSource + 0.5 * noiseV + vec3(763.135, 7.2367, 62.8465)),\n      0\n    );\n    noiseV *= noiseScale * velocityNoiseScale;\n    // noiseV *= 0.0;\n    // vec3 noiseV = vec3(0.0, 0.0, 0.0);\n\n    float decay = 0.8;\n    // vec3 noiseSource = vec3(uv.x, uv.y, 0) * 1000.0 + time * 1.0;\n    vec3 newV = decay * v + (1.0-decay) * (goTargetV + noiseV);\n    // newV.z = 0.0;\n\n    gl_FragColor = vec4(newV, 1.0);\n}\n"),V="\n  // precision highp float;\n  uniform float delta;\n  uniform vec2 dTargetOffset;\n\n  void main()\t{\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    vec3 pos = texture2D(positionTex, uv).xyz;\n    pos.xy -= dTargetOffset;\n    vec3 v = texture2D(velocityTex, uv).xyz;\n\n    // const float minDelta = 0.5;\n    // vec3 dpos = v * min(2.0 * delta, 1.0) + (target-pos) * min(0.5 * delta, 1.0);\n    // if(pos.x != target.x && abs(dpos.x) < minDelta)\n    //   dpos.x = clamp(target.x - pos.x, -minDelta, minDelta);\n    // if(pos.y != target.y && abs(dpos.y) < minDelta)\n    //   dpos.y = clamp(target.y - pos.y, -minDelta, minDelta);\n\n    gl_FragColor = vec4(pos + v * min(delta, 1.0), 1.0);\n}\n",_="\n  // precision highp float;\n  uniform float delta;\n  uniform sampler2D targetColorTex;\n\n  void main()\t{\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    vec4 color = texture2D(colorTex, uv);\n    vec4 target = texture2D(targetColorTex, uv);\n\n    const float minDelta = 0.1;\n    vec4 dcolor = (target-color) * min(0.5 * delta, 1.0);\n    // if(color.w != target.w && abs(dcolor.w) < minDelta)\n    //   dcolor.w = clamp(target.w - color.w, -minDelta, minDelta);\n\n    gl_FragColor = color + dcolor;\n}\n";function P(e){e.children;var t=e.position,a=16384,o=Object(m.f)(),i=o.gl,l=o.size,s=l.width,c=l.height,v=Object(n.useState)(null),f=Object(u.a)(v,2),g=f[0],x=f[1],y=Object(n.useState)(h.getState().swarmTargets),w=Object(u.a)(y,2),T=w[0],b=w[1];h.subscribe((function(){b(h.getState().swarmTargets)}));var E=Object(n.useMemo)((function(){for(var e=[],t=0;t<3*a;t+=3)e.push(Math.random()*s,Math.random()*-c,0);return new Float32Array(e)}),[a]),z=Object(n.useMemo)((function(){for(var e=[],t=0;t<2*a;t+=2)e.push(t/2%128/128,Math.floor(t/2/128)/128);return new Float32Array(e)}),[a]),j=function(e){for(var t=e.image.data,a=0;a<t.length;a+=4)t[a]=E[a/4*3],t[a+1]=E[a/4*3+1],t[a+2]=E[a/4*3+2]},C=function(e){for(var t=e.image.data,a=0;a<t.length;a+=4)t[a]=0,t[a+1]=0,t[a+2]=0,t[a+3]=0},k=Object(n.useMemo)((function(){var e=new O(128,128,i),t=e.createTexture(),a=e.createTexture(),n=e.createTexture();j(t),j(a),C(n);var r=e.createTexture(),o=e.createTexture();C(r),C(o);var l=e.addVariable("targetPositionTex",N,a);l.material.uniforms.time={value:0},l.material.uniforms.delta={value:0},l.material.uniforms.targetType={value:0},l.material.uniforms.targetPositionTex={value:a};var s=e.addVariable("velocityTex",M,n);s.material.uniforms.time={value:0},s.material.uniforms.delta={value:0},s.material.uniforms.targetPositionTex={value:a},s.material.uniforms.targetScale={value:[0,0]},s.material.uniforms.targetPositionOffset={value:[0,0]},s.material.uniforms.dTargetOffset={value:[0,0]},s.material.uniforms.velocityNoiseScale={value:0};var c=e.addVariable("positionTex",V,t);c.material.uniforms.delta={value:0},c.material.uniforms.dTargetOffset={value:[0,0]},e.setVariableDependencies(l,[l]),e.setVariableDependencies(s,[c,s,l]),e.setVariableDependencies(c,[c,s]);var u=e.addVariable("colorTex",_,r);u.material.uniforms.targetColorTex={value:o},u.material.uniforms.delta={value:0},e.setVariableDependencies(u,[u]);var d=e.init();return null!==d&&console.error(d),[e,l,c,a,s,u,o]}),[]),F=Object(u.a)(k,7),P=F[0],R=F[1],A=F[2],I=F[3],B=F[4],G=F[5],H=F[6];Object(n.useEffect)((function(){if(g){if("content"===g.type&&g.positions.length>0){for(var e=I.image.data,t=0;t<e.length;t+=4)e[t]=g.positions[t/4*3%g.positions.length],e[t+1]=g.positions[(t/4*3+1)%g.positions.length],e[t+2]=g.positions[(t/4*3+2)%g.positions.length];I.needsUpdate=!0,e=H.image.data;for(var a=0;a<e.length;a+=4)e[a]=g.colors[a],e[a+1]=g.colors[a+1],e[a+2]=g.colors[a+2],e[a+3]=g.colors[a+3];H.needsUpdate=!0}else{for(var n=I.image.data,r=0;r<n.length;r+=4)n[r]=Math.random()-.5,n[r+1]=Math.random()-.5,n[r+2]=0;n=H.image.data;for(var o=0;o<n.length;o+=4)n[o]=0,n[o+1]=0,n[o+2]=0,n[o+3]=.4+.6*Math.random();H.needsUpdate=!0}P.renderTexture(I,P.getCurrentRenderTarget(R))}}),[g]);var L=Object(n.useMemo)((function(){var e=new d.TextureLoader;return[new D({pointTexture:e.load("/textures/box-shadow-16px.png"),posOffset:[0,0],time:0,targetType:0})]}),[]),W=Object(u.a)(L,1)[0],U=Object(n.useMemo)((function(){return[{value:performance.now()},{value:[0,0]}]}),[]),q=Object(u.a)(U,2),J=q[0],K=q[1];return Object(m.e)((function(){var e,t=performance.now(),a=Math.min((t-J.value)/1e3,.1);J.value=performance.now(),R.material.uniforms.time.value=t/1e3,R.material.uniforms.delta.value=a,B.material.uniforms.time.value=t/1e3,B.material.uniforms.delta.value=a,A.material.uniforms.delta.value=a,G.material.uniforms.delta.value=a,W.uniforms.time.value=t/1e3;for(var n=document.scrollingElement.scrollTop,r=[Math.max(document.documentElement.clientWidth,window.innerWidth||0),Math.max(document.documentElement.clientHeight,window.innerHeight||0)],o=0,i=Object.keys(T),l=0;l<i.length;l++){var s=document.getElementById(T[i[l]].id);if(s.offsetTop+s.offsetHeight>n&&s.offsetTop<n+r[1]){var c=Math.min(n+r[1],s.offsetTop+s.offsetHeight)-Math.max(n,s.offsetTop);s.offsetTop+s.offsetHeight>n+r[1]&&(c*=2),c>o&&(o=c,e=T[i[l]])}}if(e&&e!==g&&x(e),g){var u=document.getElementById(g.id),d=[u.offsetWidth,u.offsetHeight],m=[u.offsetLeft+d[0]/2,-u.offsetTop-d[1]/2],v=[m[0]-K.value[0],m[1]-K.value[1]];B.material.uniforms.dTargetOffset.value=v,B.material.uniforms.targetScale.value=d,A.material.uniforms.dTargetOffset.value=v,K.value=m;var f=0,h=1;switch(g.type){case"content":f=0;break;case"generative-thomas":f=1;break;case"generative-sprott":f=2;break;case"generative-van-der-pol":f=3;break;case"generative-excog":f=4,h=0;break;default:f=0}R.material.uniforms.targetType.value=f,B.material.uniforms.velocityNoiseScale.value=h,W.uniforms.targetType.value=f,W.uniforms.pointScale.value=g.scale/2*p,W.uniforms.posOffset.value=m}else B.material.uniforms.dTargetOffset.value=[0,0],A.material.uniforms.dTargetOffset.value=[0,0];P.compute(),W.uniforms.positionTex.value=P.getCurrentRenderTarget(A).texture,W.uniforms.colorTex.value=P.getCurrentRenderTarget(G).texture})),r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a.points,{position:t,frustumCulled:!1},r.a.createElement("bufferGeometry",{attach:"geometry"},r.a.createElement("bufferAttribute",{attachObject:["attributes","position"],count:E.length/3,array:E,itemSize:3}),r.a.createElement("bufferAttribute",{attachObject:["attributes","reference"],count:z.length/2,array:z,itemSize:2})),r.a.createElement("shaderMaterial",{attach:"material",args:[W]})))}var R=a(25);function A(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=0,o=[],i=e.length-t;i>0;i-=t){var l=a?a[r++]/n*t:Math.floor(Math.random()*(i/t+1))*t;o.push(l);for(var s=0;s<t;s++){var c=[e[l+s],e[i+s]];e[i+s]=c[0],e[l+s]=c[1]}}return o}var I=Object(R.b)((function(e,t){return t.id in e.swarmTargets?{targetData:e.swarmTargets[t.id]}:{}}),(function(e){return{updateSwarmTarget:function(t,a){e(function(e,t){return{type:"UPDATE",payload:{target:e,data:t}}}(t,a))},removeSwarmTarget:function(t){e(function(e){return{type:"REMOVE",payload:{target:e}}}(t))}}}))((function(e){e.children;var t=e.id,a=e.size,o=e.image,i=e.targetData,l=e.updateSwarmTarget,u=e.removeSwarmTarget,d=e.type,m=void 0===d?"content":d,v=e.scale,f=void 0===v?4:v,g=Object(n.useRef)();return Object(n.useEffect)((function(){function e(){return(e=Object(c.a)(s.a.mark((function e(){var n,r,c,u,d,v,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],r=[],(c=i)||(c={id:t}),c.type=m,c.scale=f,"content"!==m||"positions"in c){e.next=15;break}return e.next=9,z.renderImage(o,a);case 9:for(u=e.sent,d=0;d<u.length/4;d++)(v=[u[4*d],u[4*d+1],u[4*d+2],u[4*d+3]])[3]>0&&(n.push((d%(a[0]*p)/p+.25)/a[0]-.5,(-Math.floor(d/(a[0]*p))/p+.25)/a[1]+.5,0),r.push(v[0]/255,v[1]/255,v[2]/255,v[3]/255*(.4+.6*Math.random())));g=A(n,3),A(r,4,g,3),c.positions=n,c.colors=r;case 15:l(t,c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){u(t)}}),[g,m,f]),r.a.createElement("div",{id:t,className:"swarm-target",ref:g},r.a.createElement("div",{style:{width:a[0]+"px",height:a[1]+"px"}}))}));function B(e){var t=e.project;return r.a.createElement("div",{className:"project",key:t.id},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"project-name "+t.id},t.name),r.a.createElement("div",{className:"project-desc"},t.desc),t.tech&&r.a.createElement("div",{className:"project-tech"},r.a.createElement("span",{className:"tech-list"},t.tech.map((function(e,t){return r.a.createElement("div",{key:t,className:"item"},e)})))),t.links&&r.a.createElement("div",{className:"project-links"},t.links.map((function(e,t){return r.a.createElement("a",{key:t,href:e.url,target:"_blank",rel:"noopener noreferrer"},e.label)})))),r.a.createElement("div",{className:"container project-preview-media"},t.image&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:t.image,alt:t.name+" preview"}),r.a.createElement("div",{className:"shadow"})),t.video&&r.a.createElement(r.a.Fragment,null,r.a.createElement("video",{autoPlay:!0,playsInline:!0,loop:!0,muted:!0,src:t.video}),r.a.createElement("div",{className:"shadow"}))))}var G=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)("content"),l=Object(u.a)(i,2),v=l[0],p=l[1],g=Object(n.useState)(0),x=Object(u.a)(g,2),h=x[0],b=x[1];return Object(n.useEffect)((function(){(function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(4e3);case 2:return b(1),e.next=5,y(2e3);case 5:return b(2),e.next=8,y(1500);case 8:return p("generative-excog"),e.next=11,y(1e3);case 11:o(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"main-canvas"},r.a.createElement(m.a,{id:"gl-canvas",camera:{fov:75,near:1,far:1e4,position:[0,0,1e3],rotation:new d.Euler(0,0,0)},orthographic:!0,pixelRatio:window.devicePixelRatio||1,onCreated:function(e){var t=e.gl;t.shadowMap.enabled=!0,t.shadowMap.type=d.PCFSoftShadowMap}},r.a.createElement(T,null,r.a.createElement(P,{position:[0,0,0]})))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"hero"},r.a.createElement("div",{className:"welcome"},r.a.createElement(I,{id:"logo",type:v,size:[200,200],scale:4,image:"/textures/logo.png"}),r.a.createElement("div",{className:"welcome-line"+(h<1?" hidden":"")},"Hello, dear traveller"),r.a.createElement("div",{className:"welcome-line"+(h<2?" hidden":"")},"i'm GoS, and here's stuff i love and do")),r.a.createElement("div",{className:"proceed"+(a?" hidden":"")},r.a.createElement(f.a,{name:"caret-down"}))),r.a.createElement("div",{className:"delayed-content"+(a?" locked":"")},w.inProgress.map((function(e,t){return r.a.createElement(B,{key:t,project:e})})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"project-group-header"},"Archive")),w.archive.map((function(e,t){return r.a.createElement(B,{key:t,project:e})})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"footer"},r.a.createElement("a",{href:"https://twitter.com/just_gos",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(f.a,{name:"twitter"})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(R.a,{store:h},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.15967885.chunk.js.map